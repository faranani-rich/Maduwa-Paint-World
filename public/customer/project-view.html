<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Project Summary ‚Äì Maduwa Paint World</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- THEME BOOTSTRAP: apply saved theme & accent before first paint -->
    <script>
      (function () {
        const theme = localStorage.getItem("app.theme") || "light";
        const hue = localStorage.getItem("app.accentHue");
        const root = document.documentElement;
        root.setAttribute("data-theme", theme);
        if (hue) root.style.setProperty("--accent-h", hue);
      })();
    </script>

    <!-- Global theme tokens FIRST -->
    <link rel="stylesheet" href="../css/themes.css" />

    <!-- Page stylesheet (token-aligned) -->
    <link rel="stylesheet" href="project-view.css?v=2" />
    <link rel="stylesheet" href="../projects/styles/print.css" media="print" />
  </head>

  <body class="customer-project-view">
    <header>
      <h1>Project Summary</h1>
      <!-- Back lives in the top bar below for consistent layout -->
    </header>

    <main>
      <!-- Top Bar (consistent with dashboard/home) -->
      <div class="top-bar no-print">
        <a
          id="backBtn"
          class="back-btn"
          href="dashboard.html"
          aria-label="Back to Dashboard"
          >‚Üê Back to Dashboard</a
        >
        <div class="spacer"></div>
      </div>

      <!-- Status / Loading -->
      <section id="statusMessage" class="panel panel--status">
        <p>Loading project details...</p>
      </section>

      <!-- Loaded Project Details -->
      <section id="projectDetails" class="card" style="display: none">
        <h2 id="projectName" class="card-title">‚Äî</h2>

        <div class="info-grid">
          <p><strong>Location:</strong> <span id="location">‚Äî</span></p>
          <p><strong>Status:</strong> <span id="status">‚Äî</span></p>
          <p>
            <strong>Expected Duration:</strong> <span id="duration">‚Äî</span>
          </p>
          <p><strong>Progress:</strong> <span id="progress">‚Äî</span></p>
          <p>
            <strong>Project Manager:</strong>
            <span id="managerName">‚Äî</span>
            (<span id="managerEmail">‚Äî</span>)
          </p>
          <p>
            <strong>Customer Name:</strong> <span id="customerName">‚Äî</span>
          </p>
          <p>
            <strong>Customer Email:</strong> <span id="customerEmail">‚Äî</span>
          </p>
          <p>
            <strong>Notes / Instructions:</strong> <span id="notes">‚Äî</span>
          </p>
        </div>

        <!-- Summary -->
        <div class="summary-box">
          <p>
            <strong>Quoted Price:</strong> R<span id="quotedPrice">‚Äî</span
            ><br />
            <strong>Payment Made:</strong> R<span id="paymentMade">‚Äî</span
            ><br />
            <strong>Balance Remaining:</strong> R<span id="balanceDue">‚Äî</span>
          </p>
        </div>

        <!-- Actions -->
        <div class="action-buttons no-print">
          <button class="btn" id="printBtn" aria-label="Print project summary">
            üñ®Ô∏è Print
          </button>
        </div>
      </section>
    </main>

    <footer class="no-print">&copy; 2025 Maduwa Paint World (Pty) Ltd</footer>

    <!-- Theme helper -->
    <script type="module" src="../css/theme.js"></script>
    <script type="module" src="./project-view.js"></script>
  </body>
</html>
