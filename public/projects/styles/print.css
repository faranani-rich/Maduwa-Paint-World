/* ------------------------------------------------------------------
   print.css - Professional Print Styles
   ------------------------------------------------------------------ */
@media print {

  /* Always use landscape so wide tables fit */
  @page {
    size: A4 landscape;
    margin: 12mm;
  }

  /* 1 — Page colours & background */
  body {
    background: #fff !important;
    color: #000 !important;
  }

  /* 2 — Strip site chrome */
  header,
  nav,
  .no-print,
  #back-btn,
  .print-btns {
    display: none !important;
  }

  /* 3 — Links */
  .project-link,
  a {
    color: #000 !important;
    text-decoration: none !important;
  }

  /* 4 — Live controls vs print values ------------------------- */
  /* hide active controls … */
  input:not([readonly]),
  select:not([readonly]),
  textarea:not([readonly]),
  button,
  .form-control,
  .action-btn {
    display: none !important;
  }

  /* …show print-value spans */
  .print-value {
    display: inline-block !important;
    white-space: pre-wrap;
    color: #000 !important;
    background: transparent !important;
    padding: 0 !important;
    margin: 0 !important;
  }

  /* …and show readonly fields as plain text for mobile fallback */
  input[readonly],
  select[readonly],
  textarea[readonly] {
    display: inline-block !important;
    border: none !important;
    background: transparent !important;
    color: #000 !important;
    width: auto !important;
    padding: 0 !important;
  }

  /* 5 — Per-copy visibility */
  body.print-customer-mode .internal-only,
  body.print-customer-mode .actions {
    display: none !important;
  }

  body.company .internal-only {
    display: table-cell !important;
  }
  body.company section.internal-only,
  body.company .internal-only:not(td):not(th) {
    display: block !important;
  }
  body.company #feedback-link,
  body.company #qr-canvas {
    display: none !important;
  }

  /* 6 — Signature pad */
  #clear-signature,
  #sig-canvas:not(.signed) {
    display: none !important;
  }

  /* 7 — Tables & layout */
  .table-scroll {
    overflow: visible !important;  /* unwrap */
  }

  .table-scroll table,
  table {
    width: 100% !important;
    min-width: 0 !important;
    max-width: none !important;    /* never shrink */
    border-collapse: collapse !important;
    font-size: 11pt;
  }

  th,
  td {
    border: 1px solid #222 !important;
    padding: 5px 8px !important;
    word-break: break-word;
  }

  tr,
  td,
  th {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
  }

  /* 8 — Remove shadows / padding on <main> */
  main {
    box-shadow: none !important;
    margin: 0 !important;
    padding: 0 !important;
  }
}

/* ------------------------------------------------------------------
   On-screen helper colouring
   ------------------------------------------------------------------ */
@media screen {
  body.company .internal-only {
    background: #fff9dd !important;
    color: #c97b00 !important;
    font-style: italic;
  }

  body.print-customer-mode .internal-only {
    background: #fafafa !important;
    color: #eee !important;
  }
}
